/*
Copyright (C) 2025 QuantumNous

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program. If not, see <https://www.gnu.org/licenses/>.

For commercial licensing, please contact support@quantumnous.com
*/

const mjPromptSource = [
  '描绘一片宁静的森林,晨雾缭绕,阳光透过树叶斑驳洒落。',
  '创作一幅繁华都市的夜景,霓虹闪烁,雨后街道倒映着光影。',
  '绘制一个童话般的海底世界,珊瑚丛中游弋着五彩斑斓的鱼群。',
  '画一座雪山顶峰,云海翻滚,远处朝阳初升。',
  '描绘一片盛开的向日葵田,金黄的花海中点缀着几只蝴蝶。',
  '创作一个神秘的古堡,月光笼罩,藤蔓爬满斑驳的城墙。',
  '绘制一条乡间小路,两旁是金黄的麦田,远处有一座风车。',
  '画一个温馨的咖啡馆内景,暖黄灯光下,窗外是飘雪的街道。',
  '描绘一片紫藤花廊,阳光透过花架投下斑驳的影子。',
  '创作一个热闹的集市场景,各色小贩叫卖,人群熙熙攘攘。',
  '绘制一片梦幻的樱花林,花瓣纷飞,远处是朦胧的富士山。',
  '画一个宁静的港湾,渔船停泊,夕阳映照着平静的海面。',
  '描绘一个废弃的游乐园,长满青苔的旋转木马透着岁月沧桑。',
  '创作一个雨后的田野,彩虹横跨天际,远处是起伏的山峦。',
  '绘制一座童话小镇,红色的屋顶,石板路上开满野花。',
  '画一片荷塘月色,莲叶田田,月光洒在波光粼粼的水面。',
  '描绘一个繁忙的火车站,蒸汽火车喷吐白烟,站台上人来人往。',
  '创作一片薰衣草田,紫色花海中有一条蜿蜒的小径。',
  '绘制一个古老的图书馆,高大的书架,透过彩绘玻璃窗洒入的阳光。',
  '画一个雪夜的小屋,温暖的灯光从窗户透出,烟囱冒着炊烟。',
  '描绘一个水晶宫殿,冰柱闪烁着七彩光芒,仿佛童话世界。',
  '画一片深秋的枫林,红叶纷飞,溪流潺潺。',
  '创作一个繁星点点的沙漠夜晚,篝火旁停歇着骆驼商队。',
  '绘制一个热气球节,五彩斑斓的气球漂浮在蓝天白云间。',
  '描绘一片梦幻的萤火虫森林,点点荧光在夜色中闪烁。',
  '画一个古老的钟表店,各式古董钟表散发着黄铜光泽。',
  '创作一片雾霭笼罩的竹林,竹叶上凝结着晨露。',
  '绘制一个宁静的修道院,阳光透过彩窗在地面形成斑斓图案。',
  '描绘一个繁忙的港口,帆船林立,海鸥翱翔。',
  '画一片瀑布奔流,彩虹横跨,远处是青翠的山峰。',
  '创作一个废弃的温室,藤蔓缠绕着玻璃穹顶,阳光斜射。',
  '绘制一片北极光下的极地,冰川闪耀着梦幻色彩。',
  '描绘一个蒸汽朋克风格的城市,齿轮和管道交织。',
  '画一片春日樱花庭院,石灯笼旁落英缤纷。',
  '创作一个威尼斯运河,贡多拉穿梭于古老建筑之间。',
  '绘制一片郁金香花田,风车矗立在远处。',
  '描绘一个雨中的巴黎街头,雨伞下漫步的行人。',
  '画一个维多利亚时代的温室花园,藤蔓爬满铁艺架构。',
  '创作一片薄雾笼罩的茶园,层层梯田延伸至远方。',
  '绘制一个水下古城遗迹,鱼群穿梭在断壁残垣间。',
  '描绘一片波光粼粼的湖面,天鹅优雅游弋。',
  '画一个童话般的树屋,藤蔓环绕,小灯笼点缀。',
  '创作一片月光下的薰衣草田,星空璀璨。',
  '绘制一个中世纪集市,商贩叫卖,杂耍表演。',
  '描绘一片秋日银杏林,金黄落叶铺满地面。',
  '画一个水墨意境的江南小镇,乌篷船缓缓驶过。',
  '创作一片雪山之巅的日出,云海翻腾。',
  '绘制一个神秘的海底洞穴,珊瑚发出幽幽蓝光。',
  '描绘一片沙漠绿洲,椰枣树倒映在清泉中。',
  '画一个未来科技城市,悬浮车穿梭于高楼之间。',
  '创作一片晨雾中的薄荷田,露珠晶莹。',
  '绘制一个古老的天文台,星图和仪器陈列。',
  '描绘一片雨林瀑布,彩虹穿过飞溅的水花。',
  '画一个童话世界的糖果屋,七彩缤纷。',
  '创作一片夕阳下的稻田,金黄一片。',
  '绘制一个废弃的剧院,帷幕轻扬,尘埃飞舞。',
  '描绘一片极地冰川,北极熊漫步其间。',
  '画一个繁花似锦的英式花园,蜂蝶飞舞。',
  '创作一片月光下的竹海,清风徐来。',
  '绘制一个蒸汽火车站,蒸汽缭绕,人群熙攘。',
  '描绘一片荒芜的太空站,地球悬挂在远方。',
  '画一个中世纪炼金术士的实验室,烛光摇曳。',
  '创作一片晨光中的薰衣草田,蜜蜂忙碌。',
  '绘制一个远古神庙遗迹,藤蔓缠绕石柱。',
  '描绘一片暴风雨中的灯塔,海浪翻涌。',
  '画一个童话般的蘑菇森林,精灵出没。',
  '创作一片雪后的乡村,炊烟袅袅。',
  '绘制一个浮空岛屿,瀑布从边缘垂落。',
  '描绘一片月光下的芦苇荡,萤火虫点点。',
  '画一个玻璃穹顶下的植物园,阳光透过叶片。',
  '绘制一个宫崎骏风格的森林。',
  '如何生成赛博朋克街景?',
  '画一只写实风格的猫咪。',
  '生成一幅水彩画风格天空。',
  '创作未来科技感城市。',
  '画一个复古动漫人物。',
  '生成梦幻童话场景。',
  '画一个写实静物水果。',
  '生成一幅油画风格山水。',
  '绘制一个像素风格角色。',
  '创造一个日系插画场景。',
  '画一个哥特风格建筑。',
  '生成一幅水墨国画。',
  '绘制一个童话城堡。',
  '画一个魔法森林场景。',
  '画一只机械风格飞鸟。',
  '生成太空探险场景。',
  '绘制一个热带雨林。',
  '画维多利亚时代街景。',
  '创作一只水彩独角兽。',
  '生成深海世界场景。',
  '画一个未来实验室。',
  '绘制古埃及神殿。',
  '生成北欧神话场景。',
  '画一只蒸汽朋克猫。',
  '创作夜市小摊场景。',
  '绘制樱花飘落瞬间。',
  '画一个废弃游乐园。',
  '生成西部荒野场景。',
  '绘制中世纪城堡。',
  '画一个魔法实验室。',
  '创作霓虹都市夜景。',
  '生成火星殖民地。',
  '画一个童话书房。',
  '绘制海底遗迹。',
];

const moreAiPromptSource = [
  '如何提升我的职场竞争力?',
  '分析这段音乐的情感表达。',
  '为我的广告文案增加说服力。',
  '解释细胞凋亡的生物学过程。',
  '如何提高我的阅读理解速度?',
  '分析这个品牌的市场定位。',
  '为我的学术报告做结构优化。',
  '解释火山喷发的形成机制。',
  '如何改善我的沟通技巧?',
  '分析这个游戏的玩家心理。',
  '解释深度学习在图像识别中的应用。',
  '为我的课程设计教学方案。',
  '如何提升我的创作灵感?',
  '分析这个投资组合的风险。',
  '为我的论文选题提供建议。',
  '解释大气环流的基本原理。',
  '如何改进我的摄影构图?',
  '分析这个广告的营销策略。',
  '为我的研究设计实验方案。',
  '解释声波传播的物理过程。',
  '如何提高我的记忆力?',
  '分析这首交响乐的结构。',
  '为我的产品做市场调研。',
  '解释DNA复制的过程。',
  '如何改善我的饮食习惯?',
  '分析这个舞蹈的艺术特点。',
  '为我的创业团队制定目标。',
  '解释太阳黑子的形成原因。',
  '如何提升我的决策能力?',
  '分析这个app的用户体验。',
  '为我的健身计划做调整。',
  '解释量子隧穿效应。',
  '如何改进我的绘画技巧?',
  '分析这个设计的美学价值。',
  '为我的项目做风险评估。',
  '解释脑电波的产生机制。',
  '如何提高我的工作效率?',
  '分析这个剧本的人物塑造。',
  '为我的展览策划方案。',
  '解释基因突变的类型。',
  '如何改善我的英语口语?',
  '分析这个城市的规划特点。',
  '为我的演讲设计开场。',
  '解释引力波的探测原理。',
  '如何提升我的领导能力?',
  '分析这篇小说的叙事手法。',
  '为我的餐厅设计菜单。',
  '解释光合作用的过程。',
  '如何改进我的写作风格?',
  '分析这个建筑的结构特点。',
  '为我的产品定价策略。',
  '解释黑洞的形成过程。',
  '如何提高我的注意力?',
  '分析这个节目的收视率。',
  '为我的网店做优化建议。',
  '解释地震波的传播特征。',
  '如何改善我的表达能力?',
  '分析这个案例的法律问题。',
  '为我的论文做文献综述。',
  '解释核聚变的原理。',
  '分析这段演讲稿重点。',
  '如何提升写作灵感?',
  '推荐适合入门的Python库。',
  '介绍一个历史转折点。',
  '分析这个实验数据。',
  '如何做好项目规划?',
  '点评这份商业报告。',
  '推荐几个学习方法。',
  '帮我改进PPT设计。',
  '解释这个数学概念。',
  '如何准备研究报告?',
  '分析这个市场趋势。',
  '介绍音乐创作技巧。',
  '怎样提高谈判能力?',
  '点评这段视频脚本。',
  '推荐提升领导力方法。',
  '如何做好知识管理?',
  '分析这个投资案例。',
  '帮我优化工作流程。',
  '介绍创新思维工具。',
  '分析这个设计方案。',
  '如何改进团队协作?',
  '推荐几个财务管理工具。',
  '解释这个物理现象。',
  '分析这首音乐特点。',
  '如何提升阅读速度?',
  '点评这个产品策略。',
  '介绍一种冥想方法。',
  '帮我修改研究计划。',
  '分析这则广告文案。',
  '如何培养创造力?',
  '推荐减压放松技巧。',
  '点评这个教学设计。',
  '解释人工智能原理。',
  '如何提升写作效率?',
  '分析这个品牌定位。',
  '介绍远程工作技巧。',
  '帮我优化学习计划。',
  '推荐记笔记方法。',
  '如何提升表达能力?',
];

const shuffle = (items) => {
  const list = [...items];
  for (let i = list.length - 1; i > 0; i -= 1) {
    const j = Math.floor(Math.random() * (i + 1));
    [list[i], list[j]] = [list[j], list[i]];
  }
  return list;
};

export const createHomeReviewBarrageRows = ({
  rowCount = 2,
  sampleSize = 24,
} = {}) => {
  const pool = Array.from(new Set([...mjPromptSource, ...moreAiPromptSource]));
  if (pool.length === 0) {
    return [];
  }

  const selected = shuffle(pool).slice(0, Math.min(sampleSize, pool.length));
  const sizePerRow = Math.max(1, Math.ceil(selected.length / rowCount));

  return Array.from({ length: rowCount }, (_, rowIndex) => {
    const start = rowIndex * sizePerRow;
    const end = start + sizePerRow;
    return selected.slice(start, end);
  }).filter((row) => row.length > 0);
};
